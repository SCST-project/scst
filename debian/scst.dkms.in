PACKAGE_VERSION="${PACKAGE_VERSION}"
PACKAGE_NAME="scst"
AUTOINSTALL=yes
MAKE[0]="export KVER=${kernelver} KDIR=${kernel_source_dir} BUILD_2X_MODULE=y CONFIG_SCSI_QLA_FC=y CONFIG_SCSI_QLA2XXX_TARGET=y && make ${PKG_BUILD_MODE} && make -sC scst && make -sC fcst && make -sC iscsi-scst && make -sC qla2x00t-32gbit/qla2x00-target && make -sC scst_local && make -sC srpt"
CLEAN="make clean"
# Remove any existing ib_srpt.ko kernel modules
PRE_INSTALL="find /lib/modules/${kernelver} -name ib_srpt.ko -exec rm {} \;"
# The SCST kernel module must be first because building the other kernel
# modules can only succeed after the SCST kernel module headers have been
# installed.
BUILT_MODULE_NAME[0]="scst"
BUILT_MODULE_LOCATION[0]="scst/src"
DEST_MODULE_LOCATION[0]="/extra"
BUILT_MODULE_NAME[1]="fcst"
BUILT_MODULE_LOCATION[1]="fcst"
DEST_MODULE_LOCATION[1]="/extra"
BUILT_MODULE_NAME[2]="iscsi-scst"
BUILT_MODULE_LOCATION[2]="iscsi-scst/kernel"
DEST_MODULE_LOCATION[2]="/extra"
BUILT_MODULE_NAME[3]="isert-scst"
BUILT_MODULE_LOCATION[3]="iscsi-scst/kernel/isert-scst"
DEST_MODULE_LOCATION[3]="/extra"
BUILT_MODULE_NAME[4]="qla2x00tgt"
BUILT_MODULE_LOCATION[4]="qla2x00t-32gbit/qla2x00-target"
DEST_MODULE_LOCATION[4]="/extra"
BUILT_MODULE_NAME[5]="qla2xxx_scst"
BUILT_MODULE_LOCATION[5]="qla2x00t-32gbit"
DEST_MODULE_LOCATION[5]="/extra"
BUILT_MODULE_NAME[6]="scst_cdrom"
BUILT_MODULE_LOCATION[6]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[6]="/extra/dev_handlers"
BUILT_MODULE_NAME[7]="scst_changer"
BUILT_MODULE_LOCATION[7]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[7]="/extra/dev_handlers"
BUILT_MODULE_NAME[8]="scst_disk"
BUILT_MODULE_LOCATION[8]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[8]="/extra/dev_handlers"
BUILT_MODULE_NAME[9]="scst_modisk"
BUILT_MODULE_LOCATION[9]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[9]="/extra/dev_handlers"
BUILT_MODULE_NAME[10]="scst_processor"
BUILT_MODULE_LOCATION[10]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[10]="/extra/dev_handlers"
BUILT_MODULE_NAME[11]="scst_raid"
BUILT_MODULE_LOCATION[11]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[11]="/extra/dev_handlers"
BUILT_MODULE_NAME[12]="scst_tape"
BUILT_MODULE_LOCATION[12]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[12]="/extra/dev_handlers"
BUILT_MODULE_NAME[13]="scst_user"
BUILT_MODULE_LOCATION[13]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[13]="/extra/dev_handlers"
BUILT_MODULE_NAME[14]="scst_vdisk"
BUILT_MODULE_LOCATION[14]="scst/src/dev_handlers"
DEST_MODULE_LOCATION[14]="/extra/dev_handlers"
BUILT_MODULE_NAME[15]="scst_local"
BUILT_MODULE_LOCATION[15]="scst_local"
DEST_MODULE_LOCATION[15]="/extra"
BUILT_MODULE_NAME[16]="ib_srpt"
BUILT_MODULE_LOCATION[16]="srpt/src"
DEST_MODULE_LOCATION[16]="/extra"
